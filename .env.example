# Cathedral Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED: API Keys
# =============================================================================

# OpenRouter API key for LLM access (https://openrouter.ai/keys)
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key-here

# OpenAI API key for embeddings and audio transcription (https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-openai-api-key-here

# =============================================================================
# REQUIRED: Database
# =============================================================================

# PostgreSQL connection URL (requires pgvector extension)
DATABASE_URL=postgresql://user:password@localhost:5432/cathedral

# =============================================================================
# OPTIONAL: MemoryGate Configuration
# =============================================================================

# Database backend (default: postgres)
# DB_BACKEND=postgres

# Vector backend (default: pgvector)
# VECTOR_BACKEND=pgvector

# Tenancy mode (default: single)
# MEMORYGATE_TENANCY_MODE=single

# Auto-create tables on startup (default: true)
# AUTO_MIGRATE_ON_STARTUP=true

# =============================================================================
# OPTIONAL: LLM Configuration
# =============================================================================

# Default model for chat (default: openai/gpt-4o-2024-11-20)
# DEFAULT_MODEL=openai/gpt-4o-2024-11-20

# Vision model for image analysis (default: openai/gpt-4o-2024-11-20)
# VISION_MODEL=openai/gpt-4o-2024-11-20

# LLM backend provider (default: openrouter)
# Options: openrouter, openclaw, claude_cli, codex_cli
# LLM_BACKEND=openrouter

# =============================================================================
# OPTIONAL: OpenClaw Gateway Configuration
# =============================================================================

# OpenClaw Gateway API URL (default: http://127.0.0.1:18789/v1/chat/completions)
# For local: http://127.0.0.1:18789/v1/chat/completions
# For remote: https://openclaw.example.com/v1/chat/completions
# OPENCLAW_API_URL=http://127.0.0.1:18789/v1/chat/completions

# OpenClaw API token (optional, required for remote authenticated gateways)
# OPENCLAW_TOKEN=your-openclaw-token-here

# OpenClaw model override (optional, gateway routes to configured model by default)
# OPENCLAW_MODEL=default

# Claude CLI command (used when LLM_BACKEND=claude_cli)
# CLAUDE_CLI_CMD=claude

# Codex CLI command (used when LLM_BACKEND=codex_cli)
# CODEX_CLI_CMD=codex

# Default embedding model (default: text-embedding-3-small)
# EMBEDDING_MODEL=text-embedding-3-small

# Local LoomMirror model path (optional)
# LOOMMIRROR_MODEL_PATH=./models/memory/tinyllama-1.1b-chat-v1.0.Q8_0.gguf

# =============================================================================
# OPTIONAL: Server Configuration
# =============================================================================

# Server port (default: 8000)
# PORT=8000

# Server host (default: 0.0.0.0)
# HOST=0.0.0.0

# CORS allowed origins (comma-separated)
# ALLOWED_ORIGINS=http://localhost:8000,http://localhost:5000

# =============================================================================
# OPTIONAL: OpenClaw Workspace Integration (ScriptureGate)
# =============================================================================
# Import OpenClaw's local memory files as read-only documents for RAG.

# Enable OpenClaw workspace import (default: false)
# SCRIPTURE_OPENCLAW_ENABLED=true

# Comma-separated paths to OpenClaw workspace directories
# Read-only mount recommended for security (Docker: -v /path:/path:ro)
# OPENCLAW_WORKSPACE_PATHS=/path/to/openclaw/workspace,/path/to/openclaw/workspace/memory

# Allowed file patterns (hardcoded for security):
# - MEMORY.md, memory.md, TOOLS.md, tools.md, CONTEXT.md, SESSION.md
# - *.md, *.txt
# Blocked: .env, *.key, *.pem, config.json, credentials*, .git/*

# =============================================================================
# OPTIONAL: BrowserGate Search Providers
# =============================================================================

# Brave Search API key (https://brave.com/search/api/)
# BRAVE_API_KEY=BSA-your-brave-api-key-here

# SearXNG instance URL (for self-hosted search)
# SEARXNG_URL=https://searx.example.com
